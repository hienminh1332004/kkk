<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chia đôi màn hình</title>
    <link rel="stylesheet" href="taisandaugia.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <header style="background-color: white; width: 100%" class="scroll-down-header">
        <header class="header-container">
            <div class="header-logo" >
                <a href="">
                    <img alt="image" src="https://lacvietauction.vn/files/frontend/images/core/logo-dau-gia-lac-viet.png" style="width: 200.73px; height: 56.5px;">
                </a>
            </div>
            <div class="main-menu">
                <ul class="menu-list">
                    <li class="menu-item-has-children">
                        <a href="">Tài sản đấu giá <span class="arrow">▲</span></a>
                        <ul class="submenu">
                            <li><a href="">Tài sản nhà nước</a></li>
                            <li><a href="">Bất động sản</a></li>
                            <li><a href="">Phương tiện - xe cộ</a></li>
                            <li><a href="">Sưu tầm - nghệ thuật</a></li>
                        </ul>
                    </li>
                    
                    <li class="menu-item-has-children">
                        <a href="">Cuộc đấu giá <span class="arrow">▲</span></a>
                        <ul class="submenu">
                            <li>
                                <a href="">Cuộc đấu giá sắp đấu giá</a>
                            </li>
                            <li>
                                <a href="">Cuộc đấu giá đang diễn ra</a>
                            </li>
                            <li>
                                <a href="">Cuộc đấu giá đã kết thúc</a>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item-has-children">
                        <a href="">Tin tức <span class="arrow">▲</span></a>
                        <ul class="submenu">
                            <li>
                                <a href="">Thông báo</a>
                            </li>
                            <li>
                                <a href="">Thông báo đấu giá</a>
                            </li>
                            <li>
                                <a href="">Tin khác</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="">Giới thiệu</a>
                    </li>
                    <li>
                        <a href="">Liên hệ</a>
                    </li>
                </ul>
            </div>
            <div id="server-time-clock" data-v-65fff26b="" aria-haspopup="true" class="wrapper-AtBcr u-isActionable u-textLeft u-inlineBlock u-borderNone u-textBold u-textNoWrap Arrange Arrange--middle u-userLauncherColor" data-time="1727859990800" >
               
                    <div style="font-size: 30px; font-weight: bold;" id="time-part1"></div>
                    <div style="font-size: 18px;" id="date-part1"></div>
            </div>
            <div class="detail-button log" id="login" onclick="openModalLogin()" style="padding: 16px;">
                <a style="font-size: 25px; text-decoration: none; align-items: center; color: white; font-weight: bold;font-family: Montserrat,sans-serif;" href="javascript:void(0)">Đăng Nhập</a>
            </div>
        </header>
    </header>
    <div class="overlay" id="overlay" onclick="closeModalLogin()">
        <div class="login-container" id="login-container" onclick="event.stopPropagation();">
            <div class="close-button" id="close-button" onclick="closeModalLogin(event)">×</div>
            <img alt="Company Logo" height="80" src="https://storage.googleapis.com/a1aa/image/FSnunffK7RlPzE9m8IkGiRiEhOAH6OQjQfvuVdEpOoMGbDSnA.jpg" width="80"/>
            <h1>ĐẤU GIÁ LẠC VIỆT</h1>
            <p>
                Bạn chưa có tài khoản? 
                <a href="#">Đăng Ký Ngay</a>
            </p>
            <form>
                <label for="username">Tên đăng nhập / Email</label>
                <input id="username" placeholder="Nhập tên đăng nhập/Email" type="text" required />
                <label for="password">Mật khẩu</label>
                <input id="password" placeholder="Mật khẩu" type="password" required />
                <button type="submit">ĐĂNG NHẬP</button>
            </form>
        </div>
    </div>

    <script>
        function openModalLogin() {
            var overlay = document.getElementById('overlay');
            var loginContainer = document.getElementById('login-container');

            // Hiển thị overlay và form đăng nhập
            overlay.style.display = 'flex';
            loginContainer.classList.remove('hide'); // Đảm bảo form không có class 'hide' khi mở
        }

        function closeModalLogin(event) {
            event.stopPropagation(); // Ngăn chặn sự kiện nổi bọt

            var loginContainer = document.getElementById('login-container');
            loginContainer.classList.add('hide'); // Thêm class để kích hoạt animation đóng

            // Đợi animation đóng xong trước khi ẩn hoàn toàn overlay
            setTimeout(function() {
                document.getElementById('overlay').style.display = 'none';
            }, 250); // Delay tương ứng với thời gian của animation (0.5s)
        }

        // Đảm bảo nút "×" hoạt động chính xác
        document.getElementById('close-button').addEventListener('click', function(event) {
            closeModalLogin(event); // Gọi hàm đóng cửa sổ khi nhấp vào dấu "×"
        });

         // Đóng modal khi nhấn ra ngoài form
         document.getElementById('overlay').addEventListener('click', function(event) {
            closeModalLogin(event);
        });
    </script>
        <script>
            function updateTimeAndDate() {
            const timeElement = document.getElementById('time-part1');
            const dateElement = document.getElementById('date-part1');

        // Lấy thời gian hiện tại ở múi giờ Việt Nam (Asia/Ho_Chi_Minh)
        const vietnamTime = new Date().toLocaleString("en-US", { timeZone: "Asia/Ho_Chi_Minh" });
        const currentDate = new Date(vietnamTime);

        // Định dạng giờ phút giây
        const hours = String(currentDate.getHours()).padStart(2, '0');
        const minutes = String(currentDate.getMinutes()).padStart(2, '0');
        const seconds = String(currentDate.getSeconds()).padStart(2, '0');

        timeElement.textContent = `${hours}:${minutes}:${seconds}`;

    // Định dạng ngày tháng
    const days = ["Chủ Nhật", "Thứ Hai", "Thứ Ba", "Thứ Tư", "Thứ Năm", "Thứ Sáu", "Thứ Bảy"];
    const dayOfWeek = days[currentDate.getDay()];
    const day = currentDate.getDate();
    const month = currentDate.getMonth() + 1; // Tháng bắt đầu từ 0
    const year = currentDate.getFullYear();

    dateElement.textContent = `${dayOfWeek}, ${day.toString().padStart(2, '0')}/${month.toString().padStart(2, '0')}/${year}`;
        }

    // Cập nhật mỗi giây
    setInterval(updateTimeAndDate, 1000);

    // Gọi hàm ngay khi tải trang
     updateTimeAndDate();

        </script>   
</header>

<div style="margin-top: 150px ;" class="container-main">
    <div id="banner-new" style="margin-left: 160px;width: 1800px;padding-top: 32px; padding-bottom: 26px; border-bottom: 1px solid #E0E0E0; background-image: url('https://lacvietauction.vn/LVT/assets/images/bannertaisandaugia.png');background-position: right;  background-repeat: no-repeat; background-size: contain; /* Tăng kích thước lên 120% */">
        <h2 class="current-page" style="font-size: 30px; font-style: normal;font-weight: 600;line-height: 36px; color: #121212;">Cho thuê phục vụ hoạt động phụ trợ: Cung cấp dịch vụ trông giữ xe cho học sinh tại Trường THCS THPT Vĩnh Thắng</h2>
        <div class="link-redirect" >
            <a class="page-index" href="/home.html">Trang chủ</a> / <span class="page-des ellipsis1" style="font-weight: bold;">Tài sản đấu giá</span>
        </div>
    </div>


</div>
    <div class="container" style="margin-top: 100px;">
        <!-- Bên trái chứa ảnh -->
        <div class="left-side" >
            <img src="https://data.lvo.vn/media/upload/1001937/IMAGE/2024/h%C3%ACnh%20tr%C6%B0%E1%BB%9Dng.png" alt="Ảnh của bạn" class="image">
        </div>

        <!-- Bên phải chứa nội dung đăng ký -->
        <div class="right-side">
            <div class="register-form" style="width: 670px; margin-top: 18px;">
                <div class="row">
                    <div class="col-6">
                        <p class="left-title-text no-margin font-size-16 bold">Giá khởi điểm:</p>
                    </div>
                    <div class="col-6">
                        <p class="right-info-text no-margin"><span class="novaticPrice openningPrice font-size-18">7.800.000</span> <span class="unitPrice">VNĐ</span></p>
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-6">
                        <p class="left-title-text no-margin">Mã tài sản:</p>
                    </div>
                    <div class="col-6">
                        <p class="right-info-text no-margin">MTS-7S14O2</p>
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-6">
                        <p class="left-title-text no-margin">Phí đăng kí tham gia đấu giá:</p>
                    </div>
                    <div class="col-6">
                        <p class="right-info-text no-margin ">200.000 <span class="unitPrice">VNĐ</span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">

                        <p class="left-title-text no-margin">Bước giá:</p>
                    </div>
                    <div class="col-6">
                        <p class="right-info-text no-margin"><span class="novaticPrice step-price stepPrice">100.000</span> <span class="unitPrice"> VNĐ</span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">

                        <p class="left-title-text no-margin">Số bước giá tối đa/ lần trả:</p>
                    </div>
                    <div class="col-6">
                            <p class="right-info-text no-margin">Bước giá không giới hạn</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">

                        <p class="left-title-text no-margin">Phương thức đấu giá:</p>
                    </div>
                    <div class="col-6">
                                    <p class="right-info-text no-margin">Trả giá lên và liên tục</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">

                        <p class="left-title-text no-margin">Mô tả lô đất:</p>
                    </div>
                    <div class="col-6">

                        <p class="right-info-text no-margin">Ấp Thắng Lợi, xã Vĩnh Thắng, huyện Gò Quao, tỉnh Kiên Giang</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">

                        <p class="left-title-text no-margin">Thời gian xem tài sản:</p>
                    </div>
                    <div class="col-6">

                        <p class="right-info-text no-margin">Ngày 17 và 18 tháng 10 năm 2024</p>
                    </div>
                </div>    
                <div class="row ap-openTime-info">
                    
                        <div class="col-6">
                            <p class="left-title-text no-margin">Thời gian bắt đầu trả giá:</p>
                        </div>
                        <div class="col-6">
                            <p class="right-info-text no-margin">28/10/2024 09:00:00</p>
                        </div>
                    
                </div>
                <div class="row ap-endTime-info">
                    
                        <div class="col-6">
                            <p class="left-title-text no-margin">Thời gian kết thúc trả giá:</p>
                        </div>
                        <div class="col-6">
                            <p class="right-info-text no-margin">28/10/2024 10:00:00</p>
                        </div>
                </div>
                <!-- Thêm các phần khác của form ở đây -->
                <div class="auction-actions " id="auction-actions">
                    <button class="detail-button" style="height: 50px; width: 100%;" onclick="showAlert()">Đăng kí tham gia đấu giá</button>
                </div>
            </div>
            <div class="auction" id="auction">
                <div class="row" style="justify-content: center;" >
                        <p class=" no-margin" style="font-size: 20px;">Đấu Giá</p>
                </div>
                <div class="auction-txtarea">
                    <textarea name="" id="current-bet" style="width: 100%; height: 220px; resize: none; text-align: left !important; border: none;" readonly>
                        11/03/2024 14:20:37 wallpom114: 400.000 VNĐ
                        11/03/2024 14:25:37 wallpom115: 500.000 VNĐ
                    </textarea>
                </div>
                <div class="row" style="margin-top: 15px;">
                    
                    <p class="left-title-text no-margin" style="margin-left: 14px; margin-top: 12px;">Nhập giá:</p>
                    
                    <div class="bid-amount" style="display: block;" >
                        <input type="text" placeholder="Enter you bid amount" id="amount" oninput="formatCurrency()">
                        <span class="unitPrice"> VNĐ</span>
                        <div class="message" id="error-message" >
                        </div>
                    </div>
                    <div class="auction-actions " style="margin-right: 14px;">
                        <button class="detail-button" style="height: 50px; ">Send</button>
                    </div>
                </div>
                
            </div>
           
        
        </div>
    </div>
    <script>
        function showAlert() {
            Swal.fire({
                title: 'Điều khoản',
                html: `
                    <p>- Tôi đã đọc và đồng ý với quy chế đấu giá.</p>
                    <p>- Tôi tự nguyện không nhận tiền lãi phát sinh từ khoản tiền đặt trước.</p>
                    <p>- Tôi đã hiểu rõ về tài sản đấu giá và không có ý kiến gì về việc xem tài sản đấu giá.</p>
                `,
                icon: 'info',
                confirmButtonText: '<i class="fa fa-thumbs-up"></i> Đồng ý',
                showCloseButton: true,
                customClass: {
                    confirmButton: 'swal2-confirm' // Sử dụng lớp CSS tùy chỉnh cho nút xác nhận
                }
            }).then((result) =>{
                if (result.isConfirmed) {
                    document.getElementById("auction-actions").style.display = "none";
                    document.getElementById("auction").style.display = "block";
                }
            });
        }
    </script>
    
   <script>
        function formatCurrency() {
            const input = document.getElementById("amount");
            const message = document.getElementById("error-message");
            const currentBetElement = document.getElementById("current-bet");
            let value = input.value;

            // Lấy các dòng trong textarea
            let currentBetText = currentBetElement.value.trim().split("\n"); 
            let lastLine = currentBetText[currentBetText.length - 1]; // Lấy dòng cuối cùng
            
            // Tách chuỗi để lấy giá trị tiền từ dòng cuối
            let currentBetValueMatch = lastLine.match(/:\s*(\d+(\.\d{3})*)\s*VNĐ/); // Tìm số tiền sau dấu ":"
            
            let currentBetValue;
            if (currentBetValueMatch) {
                currentBetValue = currentBetValueMatch[1].replace(/\./g, ""); // Lấy giá trị số từ match
            }


            // Kiểm tra xem giá trị nhập vào có phải là số hợp lệ không
            if (isNaN(value.replace(/\./g, ""))) {
                message.style.display = "block";
                message.innerText = "Số tiền không hợp lệ!";
                
            } else {
                message.style.display = "none"; // Ẩn thông báo lỗi
            }

            // Xóa bỏ các dấu chấm hiện tại và ký tự không phải số
            value = value.replace(/\D/g, "");

            // So sánh với giá trị cược hiện tại
            if (parseInt(value) < parseInt(currentBetValue)) {
                message.style.display = "block";
                message.innerText = "Vui lòng nhập giá cao hơn giá cược hiện tại.";
                // Ngăn không cho định dạng nếu giá không hợp lệ
            }


            // Định dạng lại chuỗi với dấu chấm hàng nghìn
            value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ".");

            // Gán lại giá trị đã định dạng vào ô input
            input.value = value;
        }
    </script>
   
</body>
</html>
